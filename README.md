# Today_house_test_Server_Bingsu/Popo

빙수/포포 - 오늘의집

## 포포 개발일지
### 2021-10-30
- 기획서 제출 100%
  - 추후 수정 보완 필요

### 2021-10-31
- ERD 설계 80% 완료
  - ERD 설계간 클라이언트와 소통하여 기능 협의<br>
❓ 게시글 관련 ERD 데이터 타입 설계에 대한 고민<br><Br>
- 서버구축 50% 완료
  - 로컬서버구축 완료
  - 로컬에서 dev 서버 구축 완료

### 2021-11-01
- 서버 구축 완료 100%<br>
  - Spring에서 dev, local, prod 각각 포트 구분하여 구축완료<br>
❓ 서버 개발시 유의사항에 클라이언트의 개발을 Dev에서 진행하도록 되어있는데, 이게 명확한가에 대해서 고민하였으나 팀원끼리 협의하여 Bingsu의 로컬서버를 Dev서버로 하여 포트포워딩 통해 열어줌.
    - 💡 개발 팀장님 답변 : 로컬로 구성한 dev에서 진행 후 최종완성본 prod에서 개발진행

  - 서버구축간 오류<br>

🚨 - ```spring.profiles.active``` 로 local, dev, prod 서버를 나누려고 하였으나 계속 active 최하단코드가 작동을 함<br> 
🗝 - 찾아보니 ```spring.profiles.active``` 는 기본값으로 실행되는 코드고, ```spring.profiles``` 코드는 SpringBoot 2.5버전에서는 더이상 지원하지 않아 deprecated 된 코드고, 따라서 ```config.activate.on-profile``` 로 대체해줌<br><br>
🚨 - ```java -jar -DSpring.profiles.active=? test.jar```을 통해 프로필에 따라 jar파일을 구현하려 하였으나 .profiles.active=? jar파일을 찾을수 없다. 라고 나옴.<br>
🗝 - 구글링을 통해 찾아보니 ```java -jar "-DSpring.profiles.active=?" test.jar``` 형식으로 ""를 붙여줘야 정상적으로 실행이 됨.
- ERD 1차 설계 완료
  - 클라이언트와 협의하여 Discord에 질문한 게시글에 대한 데이터베이스 형태 협의
    - 게시글 하나당 이미지3, 텍스트3개씩만 입력되도록 구현
- 설계된 ERD 토대 API 명세서 작성 5%완료
  - 로그인API, 회원가입 API 구성

- 🕐 1차 스크럼 (20:30 ~ 21:30)
  - 현재진행상황 공유
  - 1차 피드백 전까지 진행예정사항 공유
  - 문제점 공유
  
### 2021-11-02
- API 명세서 작성간 개발할 기능 리스트업 100% 완료
- API 구축
  - 46번 : 스토어 홈 화면 조회 API
  - 47번 : 46번 관련 API로 최근 본 상품 조회 API
  - 48번 : 46번 관련 API로 인기상품 조회 API
  - ?(index 메기지 않음) : 46번 관련 API로 광고배너 조회 API
    - 추후 API 명세서에 수정 및 반영예정<br>

### 2021-11-03
- API 명세서 작성간 개발할 기능 리스트 분류 완료
- ERD 수정(UserScrap, UserSetting 등 테이블 수정)<br>
- ERD 구성간 UserScrap, UserLike 등의 게시글, 사진 등의 타입을 스크랩하거나 좋아요를 할 시 N:M의 관계의 테이블이
만들어지는데 이를 Null값 허용으로 데이터를 묶어 하나의 테이블로 구현하였다.
  - 이유 : 각각의 타입별로 테이블을 구성하게 되면 테이블과 데이터가 많아진다고 생각했기 때문

### 📖 1차 피드백 (2021-11-03)
 - 고민사항에 대한 이유 명시!
 - main브랜치에 바로 작업하지 말것.
 - Transaction의 처리에 대한 강조
 - 10월 31일 ERD 설계간의 질문사항 : 블로그 형식의 데이터를 어떻게 표현할지?
   1. HTML 형식으로 데이터 구현 (HTML링크, 리소스 Image URL 처리)
   2. 임의로 Image + Text 형식의 3개의 데이터를 묶어서 저장
   3. 1개의 스크린샷으로 저장하여 표현
 - 피드백에서는 1번 형식으로 하였으나 클라이언트와의 협의 결과 2번으로 하기로 하였음.
   - 💡 : 안드로이드에서는 HTML 데이터를 다루기가 어렵다고 함.
 - 서버 구축에 대한 피드백 : Bingsu 와 Popo의 EC2를 각각 Dev, Prod로 구축하라고 피드백 받음.
   - Bingsu : Prod / Popo : Dev.
### 2021-11-04
- API 구축
  - 46번 : 스토어 홈 화면 조회 API 수정
    - 광고배너 기능 추가
  - 3번 : 로그아웃 기능 API 추가
  - 4번 : 회원탈퇴 기능 API 추가

- ERD 수정
  - 4번 API 기능 작성간 회원탈퇴시 탈퇴이유를 체크하는 탭이 있어서 테이블 추가
### 2021-11-05
- API 구축
  - 47번 : 스토어 실시간 베스트 조회 API
  - 48번 : 스토어 카테고리별 역대 베스트 조회 API
  - 50번 : 스토어 1차 카테고리 상품 조회 API
  - 51번 : 스토어 2차 카테고리 상품 조회 API
- ERD 수정
  - 리뷰 API 작성간 "도움이 돼요" 라는 기능이  필요하여 ReviewHelpful 테이블 추가
  - Product Option에 대한 고민
    - Product Option들을 1차, 2차, 3차의 각각 옵션 테이블을 생성해줘서 연결관계를 만들어줌
      - 1차 2차 = 1:N // 2차 3차 = 1:N
      - 💡 각각의 옵션별로 가질 수 있는 옵션이 다르고 안에 있는 내용 또한 다를 것임.
- Dev, Prod 서버 구축완료
  - Dev : Popo : https://seokin-test.shop
  - Prod : Bingsu : https://risingcamp.shop

### 2021-11-06
- API 추가 및 구현
  - 70 ~ 73 번 : 장바구니 체크/체크해제/전체체크/전체체크 해제 (중복되는 기능!)
  - 56 번 : 스토어 단일상품 구매 API
  - 57 번 : 스토어 단일상품 장바구니 담기 API
  - 59 번 : 장바구니 구매 API
    - 장바구니 구매 시 Res 형식을 만들어줘야할 거 같아서 수정 요망.
  - 60 번 : 장바구니 삭제 API
    - 선택플래그로 삭제
    - OptionIdx 로 삭제
    - ProductIdx 로 삭제

### 2021-11-07
- API 추가 구현
  - 6번, 6-1번 : KAKAO 로그인 API 구현
  - 57번, 59번 : Response시의 구매 물품들의 정보를 담아줘야할 거 같아서 수정하였음.
  - 70 번 ~ 73번 : 장바구니 품목 체크 및 체크해제 API 구현

- ERD 수정
  - User 테이블에서 주문할 때 최신의 정보를 받아 올 수 있게 userRealName, userCall 컬럼추가
  - UserPoint 에서 pointName, pointText 컬럼 제거하고 Point라는 테이블을 만들어줌
  - Contents idx를 만들어주고 Contents와 Product를 N:M으로 연결해주는 테이블 생성
    - contents 생성시 안에 있는 Product들을 접근할 수 있는 API를 만들어줘야 함.

### 2021-11-08
- API 추가 구현
  - 23, 24번 : 유저 상품 문의 작성/ 삭제 API
  - 33, 34번 : 유저 주문/배송조회 / 유저 상세주문 조회 API
  - 55번 : 스토어 단일 상품 배송/교환/환불 정보 조회 API
  - 58번 : 장바구니 조회 API
- ERD 수정
  - QuestionOption Table에 Option을 여러가지 추가(First, Second, Third)
  - PictureContent Table에 대표사진으로 지정할 수 있는 Flag 추가
## 빙수 개발일지


### 2021-10-31
서버구축 10% 완료
  - ec2 인스턴스 구축 완료
  
### 2021-11-01
- 로컬 서버 구축 완료
- 포트 포워딩 완료
- API 리스트 작성 10% 완료
